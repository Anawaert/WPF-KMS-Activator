<Page x:Class="Activator.Views.SettingsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:sys="clr-namespace:System;assembly=mscorlib"
      xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
      xmlns:v="clr-namespace:Activator.Views"
      xmlns:vm="clr-namespace:Activator.ViewModels"
      xmlns:cvter="clr-namespace:Activator.Converters"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      mc:Ignorable="d" 
      d:DataContext="{d:DesignInstance Type=vm:SettingsViewModels, IsDesignTimeCreatable=True}"
      d:DesignHeight="540" d:DesignWidth="960"
      Title="SettingsPage">

    <Page.DataContext>
        <vm:SettingsViewModels></vm:SettingsViewModels>
    </Page.DataContext>

    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding LoadSettingsCommand}"></i:InvokeCommandAction>
        </i:EventTrigger>
    </i:Interaction.Triggers>

    <Grid>
        <StackPanel Orientation="Vertical">
            <ui:TextBlock Text="系统信息" FontTypography="Subtitle" Margin="0,0,0,10"></ui:TextBlock>

            <ui:CardControl Margin="0,0,0,10">
                <ui:CardControl.Header>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <ui:TextBlock Grid.Row="0" FontTypography="Body" Text="Microsoft Windows 产品名称"></ui:TextBlock>
                        <ui:TextBlock Grid.Row="1" Text="将显示当前系统的产品名称而非版本" 
                                      Foreground="{ui:ThemeResource ResourceKey=TextFillColorSecondaryBrush}">
                        </ui:TextBlock>
                    </Grid>
                </ui:CardControl.Header>

                <StackPanel Orientation="Vertical">
                    <ui:TextBlock x:Name="windowsVersionTextBlock" Background="Transparent" 
                                  Text="{Binding WindowsProduct}">
                    </ui:TextBlock>
                </StackPanel>
            </ui:CardControl>

            <ui:CardControl Margin="0,0,0,10">
                <ui:CardControl.Header>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <ui:TextBlock Grid.Row="0" FontTypography="Body" Text="Microsoft Office 版本"></ui:TextBlock>
                        <ui:TextBlock Grid.Row="1" Text="将显示当前系统已经安装的 Microsoft Office 版本" 
                                Foreground="{ui:ThemeResource ResourceKey=TextFillColorSecondaryBrush}">
                        </ui:TextBlock>
                    </Grid>
                </ui:CardControl.Header>

                <StackPanel Orientation="Vertical">
                    <ui:TextBlock x:Name="officeVersionTextBlock" Background="Transparent"
                                  Text="{Binding OfficeEdition}">
                    </ui:TextBlock>
                </StackPanel>
            </ui:CardControl>

            <ui:CardControl Margin="0,0,0,10">
                <ui:CardControl.Header>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <ui:TextBlock Grid.Row="0" FontTypography="Body" Text="Anawaert KMS Activator 版本"></ui:TextBlock>
                        <ui:TextBlock Grid.Row="1" Text="将显示当前运行程序的版本" 
                            Foreground="{ui:ThemeResource ResourceKey=TextFillColorSecondaryBrush}">
                        </ui:TextBlock>
                    </Grid>
                </ui:CardControl.Header>

                <StackPanel Orientation="Vertical">
                    <ui:TextBlock x:Name="activatorVersionTextBlock" Background="Transparent"
                                  Text="{Binding ActivatorVersion}">
                    </ui:TextBlock>
                </StackPanel>
            </ui:CardControl>


            <ui:CardExpander Margin="0,0,0,10" IsExpanded="True">
                <ui:CardExpander.Header>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <ui:TextBlock Grid.Row="0" FontTypography="Body" Text="系统信息操作"></ui:TextBlock>

                        <ui:TextBlock Grid.Row="1" Foreground="{ui:ThemeResource ResourceKey=TextFillColorSecondaryBrush}"
                                      Text="可执行与系统信息相关的一些操作">
                        </ui:TextBlock>
                    </Grid>
                </ui:CardExpander.Header>


                <ui:Anchor Padding="0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                               Background="Transparent" BorderThickness="0" CornerRadius="0">
                    <Grid>
                        <ui:Button x:Name="refreshSystemInfoButton" Grid.Column="1" Content="刷新系统信息" Cursor="Hand"
                                   HorizontalAlignment="Right" VerticalAlignment="Center"
                                   Command="{Binding UpdateInfoToSettingsCommand}">
                        </ui:Button>
                    </Grid>
                </ui:Anchor>

            </ui:CardExpander>


            <ui:TextBlock Text="通用" FontTypography="Subtitle" Margin="0,0,0,10"></ui:TextBlock>

            <ui:CardControl Margin="0,0,0,10">
                <ui:CardControl.Header>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <ui:TextBlock Grid.Row="0" FontTypography="Body" Text="检查更新"></ui:TextBlock>
                        <ui:TextBlock Grid.Row="1" Text="开启后将在每次程序启动时检查是否有新版本可用" 
                                      Foreground="{ui:ThemeResource ResourceKey=TextFillColorSecondaryBrush}">
                        </ui:TextBlock>
                    </Grid>
                </ui:CardControl.Header>

                <StackPanel Orientation="Vertical">
                    <ui:ToggleSwitch IsChecked="{Binding IsUpdateCheckEnabled}" IsThreeState="False">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Checked">
                                <i:InvokeCommandAction Command="{Binding SaveSettingsCommand}"></i:InvokeCommandAction>
                            </i:EventTrigger>

                            <i:EventTrigger EventName="Unchecked">
                                <i:InvokeCommandAction Command="{Binding SaveSettingsCommand}"></i:InvokeCommandAction>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </ui:ToggleSwitch>
                </StackPanel>
            </ui:CardControl>

            <ui:CardExpander Margin="0,0,0,10" IsExpanded="True">
                <ui:CardExpander.Header>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <ui:TextBlock Grid.Row="0" FontTypography="Body" Text="主题"></ui:TextBlock>

                        <ui:TextBlock Grid.Row="1" Foreground="{ui:ThemeResource ResourceKey=TextFillColorSecondaryBrush}"
                                      Text="选择不同色彩的主题">
                        </ui:TextBlock>
                    </Grid>
                </ui:CardExpander.Header>

                <StackPanel Orientation="Vertical">
                    <RadioButton Grid.Column="0" Grid.Row="1" HorizontalAlignment="Left">
                        <StackPanel Orientation="Horizontal" MaxHeight="16">
                            <Border BorderBrush="LightGray" BorderThickness="1" CornerRadius="2" Margin="0,0,5,0" Width="16">
                                <Rectangle>
                                    <Rectangle.Fill>
                                        <SolidColorBrush Color="#00FFFFFF"></SolidColorBrush>
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Border>

                            <TextBlock Text="浅色（默认）"></TextBlock>
                        </StackPanel>
                    </RadioButton>

                    <RadioButton Grid.Column="0" Grid.Row="1" HorizontalAlignment="Left">
                        <StackPanel Orientation="Horizontal" MaxHeight="16">
                            <Border BorderBrush="LightGray" BorderThickness="1" CornerRadius="2" Margin="0,0,5,0" Width="16">
                                <Rectangle>
                                    <Rectangle.Fill>
                                        <SolidColorBrush Color="#000000"></SolidColorBrush>
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Border>

                            <TextBlock Text="深色"></TextBlock>
                        </StackPanel>
                    </RadioButton>

                    <!--<RadioButton Grid.Column="0" Grid.Row="1" HorizontalAlignment="Left">
                        <StackPanel Orientation="Horizontal" MaxHeight="16">
                            <Border BorderBrush="LightGray" BorderThickness="1" CornerRadius="2" Margin="0,0,5,0" Width="16">
                                <Rectangle>
                                    <Rectangle.Fill>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                            <GradientStop Color="#41A5EE" Offset="0"></GradientStop>
                                            <GradientStop Color="#103F91" Offset="1"></GradientStop>
                                        </LinearGradientBrush>
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Border>

                            <TextBlock Text="渐变蓝"></TextBlock>
                        </StackPanel>
                    </RadioButton>-->
                </StackPanel>
            </ui:CardExpander>
        </StackPanel>
    </Grid>
</Page>
